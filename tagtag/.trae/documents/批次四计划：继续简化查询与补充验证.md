## 目标
- 按“分页走 XML、简单单表走 LambdaQuery”的准则，巡检 Role/Menu/Dept 的简单查询并统一。
- 补充轻量日志与基础集成测试，确保行为等价与安全。

## 查询优化（不动分页 XML）
- Role：若存在按 `code/name` 获取单条或唯一性校验入口，改为 `lambdaQuery().eq(...).one()`。
- Menu：若存在按 `parentId` 获取列表或按 `menuCode` 获取单条入口，改为 `lambdaQuery()`。
- Dept：保留分页 XML；其它简单列表（如按父 ID）统一 `lambdaQuery()`（当前树查询已使用 LambdaQuery）。

## 安全与日志
- 为 Auth/Role/Dept 服务添加 `@Slf4j` 轻量日志：
  - 登录成功记录用户 ID 与角色数量，失败仅记录上下文（不含敏感数据）。
  - 角色/部门的增删改记录目标 ID 与影响数量。

## 测试
- 增补 MockMvc 用例：
  - 登录成功/失败（空参、用户不存在、密码错误 → 400/401）
  - 刷新令牌版本不匹配 → 401；注销后旧令牌 → 401
  - 权限聚合一次查询与缓存命中
  - 简单查询（Role/Menu/Dept）与原行为等价

## 验证
- 全项目编译打包；在 dev 环境运行进行接口拨测，确认等价与性能优化生效。

## 交付
- 代码改动保持函数级注释，提交简要验证结果。