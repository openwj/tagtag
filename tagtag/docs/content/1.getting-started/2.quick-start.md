---
title: 快速上手
description: 在几分钟内搭建并运行 Tagtag。
---

本指南将帮助您在本地机器上搭建 Tagtag 的后端服务和前端应用。

## 环境要求

确保您已安装以下软件：

### 后端
- **Java JDK 17+**
- **Maven 3.8+**
- **MySQL 8.0+**
- **Redis 6.0+**

### 前端
- **Node.js >= 20.12.0**
- **pnpm >= 10.0.0**

## 安装步骤

### 1. 克隆仓库

```bash
git clone https://github.com/admin/openwj/tagtag.git
cd tagtag
```

### 2. 初始化数据库 (后端)

1.  **创建数据库**：在 MySQL 中创建一个名为 `tagtag` 的数据库。
   ```sql
   CREATE DATABASE tagtag CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2.  **自动初始化**：Tagtag 使用 Spring Boot 的自动初始化功能，会在应用启动时自动执行数据库脚本。

   **脚本位置**：
   - 表结构脚本：各模块下的 `src/main/resources/db/schema.sql`
   - 初始数据脚本：各模块下的 `src/main/resources/db/data/` 目录

   **自动加载配置**（已在 `application-dev.yml` 中配置）：
   ```yaml
   spring:
     datasource:
       init:
         mode: always
         schema-locations:
           - classpath*:db/schema.sql
         data-locations:
           - classpath*:db/data/**.sql
   ```

3.  **初始数据说明**：
   - 管理员账号：`admin` / `admin123`
   - 普通用户账号：`user` / `user123`
   - 初始角色：超级管理员、管理员、普通用户
   - 初始菜单：系统管理、用户管理、角色管理、菜单管理等

### 3. 配置应用 (后端)

编辑 `tagtag-start/src/main/resources/application.yml` 以匹配您的本地环境（数据库凭据、Redis 主机）。

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/tagtag?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: your_password
  data:
    redis:
      host: localhost
      port: 6379
```

### 4. 启动后端服务

```bash
mvn clean package -DskipTests
java -jar tagtag-start/target/tagtag-start-0.0.1-SNAPSHOT.jar
```

或者，直接在您的 IDE 中运行 `TagtagApplication.java`。

### 5. 启动前端应用

1.  进入前端目录：
    ```bash
    cd tagtag-ui
    ```

2.  安装依赖：
    ```bash
    pnpm install
    ```

3.  启动开发服务器：
    ```bash
    pnpm run dev
    ```

## 验证

启动成功后：

- **前端应用**: 访问 [http://localhost:5666](http://localhost:5666)
- **后端 API 文档**: 访问 [http://localhost:8080/doc.html](http://localhost:8080/doc.html) (Swagger/Knife4j)
- **健康检查**: 访问 [http://localhost:8080/actuator/health](http://localhost:8080/actuator/health)

## 常见问题与解决方案

### 1. 数据库连接失败

**问题描述**：应用启动时出现数据库连接错误。

**解决方案**：
- 检查 MySQL 服务是否正常运行
- 确认数据库名称、用户名和密码是否正确
- 检查数据库地址和端口是否正确
- 确认数据库用户具有足够的权限

### 2. Redis 连接失败

**问题描述**：应用启动时出现 Redis 连接错误。

**解决方案**：
- 检查 Redis 服务是否正常运行
- 确认 Redis 地址和端口是否正确
- 检查 Redis 密码（如果有设置）
- 确认 Redis 实例是否允许远程连接

### 3. 前端无法访问后端 API

**问题描述**：前端应用无法连接到后端 API。

**解决方案**：
- 检查后端服务是否正常运行
- 确认前端配置的 API 地址是否正确
- 检查 CORS 配置是否正确
- 检查防火墙设置，确保端口未被阻止

### 4. 启动时出现端口冲突

**问题描述**：应用启动时出现端口已被占用的错误。

**解决方案**：
- 修改后端端口：编辑 `application.yml` 中的 `server.port` 配置
- 修改前端端口：编辑 `tagtag-ui/apps/tagtag/.env` 中的 `PORT` 配置
- 查找并终止占用端口的进程

### 5. Maven 依赖下载失败

**问题描述**：执行 `mvn clean package` 时出现依赖下载失败。

**解决方案**：
- 检查网络连接是否正常
- 清理 Maven 本地仓库：删除 `~/.m2/repository` 目录，重新下载依赖
- 配置 Maven 镜像：在 `settings.xml` 中配置国内镜像源

### 6. pnpm 依赖安装失败

**问题描述**：执行 `pnpm install` 时出现依赖安装失败。

**解决方案**：
- 检查网络连接是否正常
- 清理 pnpm 缓存：执行 `pnpm store prune`
- 升级 pnpm 版本：执行 `npm install -g pnpm`
- 配置 pnpm 镜像：在 `.npmrc` 中配置国内镜像源

### 7. 编译错误

**问题描述**：编译过程中出现错误。

**解决方案**：
- 检查 JDK 版本是否符合要求（JDK 17+）
- 检查 Node.js 版本是否符合要求（Node.js >= 20.12.0）
- 清理编译缓存：执行 `mvn clean` 或 `pnpm run clean`
- 检查代码是否存在语法错误或类型错误

### 8. 登录失败

**问题描述**：使用初始账号登录失败。

**解决方案**：
- 确认账号和密码是否正确（初始账号：`admin` / `admin123`）
- 检查后端服务是否正常运行
- 检查数据库中是否存在用户数据
- 检查 JWT 配置是否正确

## 下一步

现在您已经成功启动了 Tagtag 应用，您可以：

1. 登录系统，体验各项功能
2. 查看 API 文档，了解系统提供的接口
3. 阅读开发指南，学习如何开发新功能
4. 查看架构文档，深入了解系统设计

祝您使用愉快！
