---
title: 架构概览
description: Tagtag 架构的高层概览。
---

# 架构概览

Tagtag 采用现代化的前后端分离架构，前端负责用户交互与界面展示，后端负责业务逻辑与数据处理。

## 总体架构

Tagtag 系统由以下两个主要部分组成：

- **前端 (Frontend)**: 位于 `tagtag-ui` 目录。基于 Vue 3 + Vite + TypeScript 构建的现代化单页应用 (SPA)，采用了 Vben Admin 5 框架，使用 Tailwind CSS 和 Shadcn UI 进行界面开发。
- **后端 (Backend)**: 位于根目录下的多个 Java 模块。基于 Spring Boot 构建的模块化应用，负责提供 RESTful API 和数据持久化服务。

### 交互方式

- **通信协议**: 前后端通过 HTTP/HTTPS 协议进行通信，采用 RESTful API 风格。
- **数据格式**: 统一使用 JSON 格式进行数据交换。
- **认证机制**: 使用 JWT (JSON Web Token) 进行无状态身份验证。

## 后端架构

Tagtag 后端遵循严格的多模块架构，以分离基础设施、业务逻辑和 API 定义。

### 后端分层设计

后端项目组织为以下几个层级：

#### 1. 通用层 (`tagtag-common`)
纯工具类，**无 Spring 依赖**。
- 常量定义
- 异常类
- 基础模型 (PageResult, Result)
- 工具类 (BeanUtils, StringUtils)

#### 2. 框架层 (`tagtag-framework`)
基础设施集成。此层依赖于 Spring Boot 和其他第三方库。
- MyBatis Plus 配置
- Redis 配置
- Spring Security & JWT
- 全局异常处理
- 切面定义 (Log, RateLimit)

#### 3. 核心层 (`tagtag-kernel`)
核心业务支持逻辑。
- 注解 (`@OperationLog`, `@DataPermission`)
- 枚举 (Status, Gender)
- 用户上下文管理 (User Context Holder)

#### 4. 契约层 (`tagtag-contract`)
定义模块间的接口。
- **DTOs**: 用于 API 输入/输出的数据传输对象。
- **API 接口**: 定义服务契约的 Java 接口。

#### 5. 模块层 (`tagtag-module`)
实际的业务实现。
- 控制器 (Controllers)
- 服务实现 (Service Implementations)
- 实体类 (Entities，映射到数据库)
- 映射器 (Mappers)

#### 6. 启动层 (`tagtag-start`)
应用入口点。聚合所有模块并提供配置文件 (`application.yml`)。

## 前端架构

Tagtag 前端采用 Monorepo 结构，基于 **Vben Admin 5** 构建。

### 核心技术栈

- **框架**: Vue 3, Vite, TypeScript
- **UI 库**: Shadcn UI, Tailwind CSS
- **状态管理**: Pinia
- **路由**: Vue Router
- **包管理**: pnpm (Monorepo Workspace)

### 模块划分

前端项目主要分为应用层 (`apps`) 和 核心包层 (`packages`)，通过 Monorepo 方式进行代码共享和依赖管理。
