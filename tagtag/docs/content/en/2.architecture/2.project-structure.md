---
title: Project Structure
description: Detailed file structure of the Tagtag repository.
---

Tagtag project adopts a frontend-backend separation architecture, including a backend Java modular application, a frontend Vue 3 Monorepo application, and a comprehensive documentation system. This structural design aims to achieve a highly cohesive, low-coupling system architecture that is easy to maintain and extend.

## Directory Overview

```text
tagtag
├── docs                      # Documentation Project (Nuxt Content)
│   ├── app                   # Documentation application source code
│   ├── content               # Documentation content
│   ├── public                # Static resources
│   └── nuxt.config.ts        # Nuxt configuration
├── tagtag-ui                 # Frontend Project (Vue 3 + Vite, Monorepo)
│   ├── apps                  # Application Entries
│   ├── packages              # Core Packages & UI Components
│   └── internal              # Build & Tool Scripts
├── tagtag-common             # Backend: Common Utility Layer (Pure Java, No Spring)
├── tagtag-framework          # Backend: Infrastructure Layer (Spring Boot, Security, MyBatis Plus)
├── tagtag-kernel             # Backend: Core Business Support (Annotations, Enums, Constants, Context)
├── tagtag-contract           # Backend: API Definitions & Contracts
│   ├── tagtag-contract-auth  # Authentication Contract
│   ├── tagtag-contract-iam   # Identity & Access Management Contract
│   ├── tagtag-contract-storage # Storage Contract
│   └── tagtag-contract-system # System Contract
├── tagtag-module             # Backend: Business Implementation
│   ├── tagtag-module-auth    # Authentication Module Implementation
│   ├── tagtag-module-iam     # IAM Module Implementation
│   ├── tagtag-module-storage # Storage Module Implementation
│   └── tagtag-module-system  # System Module Implementation
├── tagtag-start              # Backend: Application Entry Point & Config
└── pom.xml                   # Backend: Root Maven POM
```

## Backend Module Dependencies

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           tagtag-start                                 │
└─────────────────────────┬─────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼─────────────────────────────────────────────────┐
│  tagtag-module-auth   tagtag-module-iam  tagtag-module-storage  tagtag-module-system │
└─────────────────────────┬─────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼─────────────────────────────────────────────────┐
│ tagtag-contract-auth tagtag-contract-iam tagtag-contract-storage tagtag-contract-system │
└─────────────────────────┬─────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼─────────────────────────────────────────────────┐
│                           tagtag-kernel                                 │
└─────────────────────────┬─────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼─────────────────────────────────────────────────┐
│                           tagtag-framework                              │
└─────────────────────────┬─────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼─────────────────────────────────────────────────┐
│                           tagtag-common                                 │
└─────────────────────────────────────────────────────────────────────────┘
```

The backend module dependencies follow a clear layered architecture:
- `tagtag-start` depends on all `tagtag-module-*`.
- `tagtag-module-*` depends on `tagtag-contract-*`, `tagtag-framework`, and `tagtag-kernel`.
- `tagtag-contract-*` depends on `tagtag-common`.
- `tagtag-framework` depends on `tagtag-common`.
- `tagtag-kernel` depends on `tagtag-common`.

## Backend Module Details

### 1. Common Utility Layer (`tagtag-common`)

A pure Java utility library that does not depend on the Spring framework, providing the most basic utility support.

**Main Responsibilities**:
- Provide common utility classes (string handling, date processing, Bean conversion, etc.)
- Define basic data models (PageResult, Result, Exception, etc.)
- Provide constant definitions and enumeration classes
- Provide validation group definitions

**Core Components**:
- `constant/`: Base constants (GlobalConstants)
- `enums/`: Base enumerations (CodeEnum)
- `exception/`: Exception class definitions (BusinessException, ErrorCode, AssertUtils)
- `model/`: Basic data models (PageQuery, PageRequest, PageResult, Result, etc.)
- `util/`: Utility classes (DateTimeUtil, EnumUtil, PageUtil, TreeUtil)
- `validation/`: Validation groups (CreateGroup, UpdateGroup)

### 2. Framework Layer (`tagtag-framework`)

Infrastructure integration layer that depends on Spring Boot and other third-party libraries to provide technical support for the upper layer.

**Main Responsibilities**:
- Integrate Spring Boot ecosystem components
- Configure database, cache, security, and other infrastructure
- Provide global exception handling and response encapsulation
- Implement AOP aspects (logging, rate limiting, operation logs, etc.)

**Core Components**:
- `aop/`: Aspect implementations (RateLimitAspect)
- `config/`: Configuration classes (CacheConfig, JacksonConfig, RedisConfig, SecurityConfig, etc.)
- `mapstruct/`: MapStruct configuration
- `mybatis/`: MyBatis Plus configuration and field auto-fill
- `security/`: Spring Security configuration and JWT implementation
  - `config/`: JWT authentication configuration
  - `context/`: Authentication context management
  - `filter/`: Custom filters
  - `guard/`: Permission guards (PermissionGuard, RoleGuard)
  - `handler/`: Custom authentication and authorization handlers
  - `model/`: Security-related models
  - `service/`: JWT service and token version service
  - `strategy/`: JWT decoding and signing strategies
  - `util/`: JWT utility classes
- `util/`: Utility classes (PageResults, Pages, WebUtil)
- `web/`: Global exception handling, CORS configuration, TraceId filter
  - `exception/`: Various exception handlers
  - `CorsConfig.java`: CORS configuration
  - `FilterConfig.java`: Filter configuration
  - `TraceIdFilter.java`: TraceId filter

### 3. Core Layer (`tagtag-kernel`)

Core business support layer that provides common support and extension points for business development.

**Main Responsibilities**:
- Define custom annotations (rate limiting, etc.)
- Provide business constants and enumeration classes
- Implement user context management
- Provide business AOP aspects
- Implement security-related models and tools

**Core Components**:
- `annotation/`: Custom annotations (@RateLimit, @RequirePerm, @RequireRole)
- `constant/`: Business constants (AppMessages, CacheConstants, Permissions, Roles, SecurityClaims, SecurityConstants)
- `enums/`: Business enumerations (GenderEnum, StatusEnum)

### 4. Contract Layer (`tagtag-contract`)

API definition and contract layer that adopts contract-first design, separating API definition from implementation.

**Main Responsibilities**:
- Define API interfaces and Data Transfer Objects (DTOs)
- Define View Objects (VO)
- Define business enumerations and constants
- Define service interfaces

**Submodules**:

#### `tagtag-contract-auth`
- Authentication-related API definitions
- Login, logout, refresh token, etc. interfaces
- Authentication-related DTOs and VOs

#### `tagtag-contract-iam`
- Identity and access management API definitions
- User, role, menu, department management interfaces
- IAM-related DTOs and VOs

#### `tagtag-contract-storage`
- Storage service API definitions
- File upload, download, delete, etc. interfaces
- Storage-related DTOs and VOs

#### `tagtag-contract-system`
- System management API definitions
- Dictionary, message, system configuration, etc. interfaces
- System-related DTOs and VOs

### 5. Module Layer (`tagtag-module`)

Business implementation layer, each module corresponds to a specific business domain and implements the interfaces defined in the contract layer.

**Main Responsibilities**:
- Implement business logic
- Access database
- Call other services
- Implement controllers

**Submodules**:

#### `tagtag-module-auth`
- Authentication business logic implementation
- Login, logout, refresh token, etc. functions
- JWT token generation and verification

#### `tagtag-module-iam`
- Identity and access management business logic
- User, role, menu, department management implementation
- Permission verification and data permission control

#### `tagtag-module-storage`
- Storage business logic implementation
- File upload, download, delete, etc. functions
- Support for local storage and cloud storage

#### `tagtag-module-system`
- System management business logic
- Dictionary, message, system configuration, etc. functions
- System monitoring and statistics

### 6. Start Layer (`tagtag-start`)

Application entry point that aggregates all modules and provides configuration files.

**Main Responsibilities**:
- Spring Boot main application class
- Application configuration file management
- Environment variable configuration
- Dependency management

**Core Components**:
- `TagtagApplication.java`: Main application class
- `resources/application.yml`: Main configuration file
- `resources/application-dev.yml`: Development environment configuration
- `resources/application-prod.yml`: Production environment configuration
- `resources/logback-spring.xml`: Log configuration

## Frontend Module Details

`tagtag-ui` uses a Monorepo structure managed with pnpm, which optimizes code sharing and dependency management.

### Monorepo Design Philosophy

Monorepo is a software architecture strategy that stores multiple project codes in a single repository. The main advantages of adopting a Monorepo structure for Tagtag include:

1. **Code Sharing**: Multiple applications can share components, utility classes, and configurations
2. **Unified Dependency Management**: All applications use the same version of dependencies, avoiding version conflicts
3. **Unified Build Tools**: Shared build configurations and scripts, improving development efficiency
4. **Better Collaboration**: Team members can more easily share and reuse code
5. **Simplified Version Management**: Unified version number management, simplifying the release process

### 1. Application Layer (`apps`)

Contains specific application implementations, with each subdirectory corresponding to an independent frontend application.

#### `apps/tagtag` - Main Application

**Core Components**:
- `src/api/`: API request definitions and encapsulation
  - `core/`: Core APIs (authentication, user, menu)
  - `modules/`: Module APIs (IAM, System, Storage)
- `src/views/`: Page view components
  - `_core/`: Core pages (login, personal center, 404, etc.)
  - `dashboard/`: Dashboard pages
  - `modules/`: Module pages (IAM, System, Storage)
- `src/router/`: Routing configuration
  - `routes/`: Route definitions
  - `access.ts`: Route guards
  - `guard.ts`: Permission guards
- `src/store/`: Pinia state management
- `src/layouts/`: Layout components
- `src/components/`: Business components
- `src/locales/`: Internationalization configuration

### 2. Core Package Layer (`packages`)

Provides reusable core functionalities and components for the application layer.

**Submodules**:

#### `packages/@core` - Core Shared Library

**Submodules**:

- **`base`**: Basic design system, icons, and shared utilities
  - `design/`: Design system and design tokens
  - `icons/`: Icon library
  - `shared/`: Shared utility classes
  - `typings/`: Type definitions

- **`composables`**: Common composable functions
  - `use-is-mobile.ts`: Mobile device detection
  - `use-layout-style.ts`: Layout style management
  - `use-namespace.ts`: Namespace management
  - `use-scroll-lock.ts`: Scroll lock management
  - `use-sortable.ts`: Sorting functionality

- **`preferences`**: Application preference settings management
  - Theme settings
  - Layout settings
  - Other user preferences

- **`ui-kit`**: Encapsulated UI component library
  - `shadcn-ui`: Base components based on Shadcn UI
  - `form-ui`: Form component encapsulation
  - `layout-ui`: Layout component encapsulation
  - `popup-ui`: Popup, drawer, and other component encapsulation
  - `tabs-ui`: Tab component encapsulation
  - `menu-ui`: Menu component encapsulation

#### `packages/constants` - Constant Definitions

- Core constant definitions
- Business constant definitions

#### `packages/effects` - Business Side-effects and Logic

- **`access`**: Permission control logic
  - Permission directives
  - Permission components
  - Permission management

- **`common-ui`**: Common UI components
  - About page
  - Fallback pages
  - Profile components

- **`hooks`**: Common Hooks
  - `use-app-config.ts`: Application configuration management
  - `use-content-maximize.ts`: Content maximize management
  - `use-design-tokens.ts`: Design token management
  - `use-hover-toggle.ts`: Hover toggle management
  - `use-pagination.ts`: Pagination management
  - `use-refresh.ts`: Refresh functionality
  - `use-tabs.ts`: Tab management
  - `use-watermark.ts`: Watermark functionality

- **`layouts`**: Layout components
  - Basic layout
  - Authentication layout
  - Iframe layout

- **`plugins`**: Third-party plugin integration
  - `echarts`: ECharts integration
  - `motion`: Animation integration
  - `vxe-table`: Table integration

### 3. Internal Tools Layer (`internal`)

Provides tools and configurations for building, development, and maintenance.

**Core Components**:
- `lint-configs/`: Configuration for ESLint, Prettier, Stylelint, etc.
- `vite-config/`: Vite build configuration encapsulation
- `tailwind-config/`: Tailwind CSS configuration encapsulation
- `tsconfig/`: TypeScript configuration files
- `node-utils/`: Node.js utility functions

## Configuration File Details

### Backend Configuration

#### Main Configuration File (`tagtag-start/src/main/resources/application.yml`)

```yaml
spring:
  application:
    name: tagtag-admin  # Application name
    version: 1.0.0      # Application version
  profiles:
    active: dev         # Active profile
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss  # Date format
    time-zone: GMT+8    # Timezone
  servlet:
    multipart:
      max-file-size: 50MB  # Maximum single file size
      max-request-size: 50MB  # Maximum request size

server:
  port: 8080           # Server port
  servlet:
    context-path: /    # Context path

logging:
  config: classpath:logback-spring.xml  # Log configuration file

mybatis-plus:
  global-config:
    banner: false      # Disable MyBatis Plus banner

# Storage configuration
storage:
  local:
    base-path: uploads  # Local storage base path
```

### Frontend Configuration

#### Application Configuration (`tagtag-ui/apps/tagtag/vite.config.mts`)

Based on internally encapsulated Vite configuration, providing unified build configurations.

#### Environment Configuration (`tagtag-ui/apps/tagtag/.env`)

```env
# Development environment
VITE_APP_API_BASE_URL=http://localhost:8080
VITE_APP_TITLE=Tagtag Admin
VITE_APP_SHORT_NAME=Tagtag
```

#### Tailwind Configuration (`tagtag-ui/internal/tailwind-config/src/index.ts`)

Unified Tailwind CSS configuration, including themes, plugins, and custom utility classes.

## Documentation System

The documentation system is built based on Nuxt Content, providing a modern documentation reading experience.

**Core Components**:
- `docs/app/`: Nuxt application source code
- `docs/content/`: Documentation content (Markdown files)
- `docs/nuxt.config.ts`: Nuxt configuration

**Documentation Structure**:
- `1.getting-started/`: Getting started guides
- `2.architecture/`: Architecture documentation
- `3.developer-guide/`: Developer guides
- `3.modules/`: Module documentation
- `en/`: English documentation

## Best Practices

### Backend Development Best Practices

1. **Follow Layered Design**: Strictly follow the order of dependencies: Common Layer → Framework Layer → Core Layer → Contract Layer → Module Layer
2. **Contract-First**: Define API contracts first, then implement business logic
3. **Use Custom Annotations**: Simplify development using annotations like `@OperationLog`, `@DataPermission`
4. **Unified Response Format**: Use `Result` to encapsulate API responses
5. **Exception Handling**: Use custom exceptions uniformly, handled by global exception handlers

### Frontend Development Best Practices

1. **Component-Based Development**: Split UI into reusable components to improve code reusability
2. **Type Safety**: Fully utilize TypeScript's type checking
3. **State Management**: Use Pinia appropriately to manage application state
4. **API Encapsulation**: Encapsulate API requests uniformly, handling errors and authentication
5. **Internationalization**: Support multi-language switching, use locales directory to manage translations
6. **Code Standards**: Follow code standards like ESLint and Prettier

### Directory Structure Best Practices

1. **Organize Code by Function**: Place related functions in the same directory
2. **Naming Conventions**: Use clear, consistent naming conventions
3. **Avoid Deep Nesting**: Directory hierarchy should not be too deep, recommended to be no more than 4 levels
4. **Keep Code Lean**: Avoid unnecessary files and code
5. **Document**: Write documentation for important components and functions

## Extension Recommendations

### Backend Extension

1. **Adding New Modules**:
   - Create a new contract module under `tagtag-contract`
   - Create a corresponding implementation module under `tagtag-module`
   - Add dependencies in `tagtag-start`

2. **Integrating New Features**:
   - Integrate new infrastructure in `tagtag-framework`
   - Add corresponding support in `tagtag-kernel`
   - Define API contracts in `tagtag-contract`
   - Implement business logic in `tagtag-module`

### Frontend Extension

1. **Adding New Components**:
   - Add new components in `packages/@core/ui-kit`
   - Import and use in applications

2. **Adding New Pages**:
   - Add new pages in `apps/tagtag/src/views`
   - Configure routes in `apps/tagtag/src/router`
   - Add API definitions in `apps/tagtag/src/api`

3. **Adding New Features**:
   - Add new side-effect logic in `packages/effects`
   - Add new Hooks in `packages/@core/hooks`
   - Use new features in applications
