---
title: IAM (Identity & Access)
description: Documentation for Identity and Access Management module.
---

# Identity and Access Management (IAM)

The **IAM (Identity and Access Management)** module is responsible for user authentication, authorization, and organizational structure management.

## Data Model

The IAM module is designed based on the RBAC (Role-Based Access Control) model.

### User
Represents a system operator.
- **Attributes**: Username, Password (BCrypt encrypted), Status (Enabled/Disabled), Department.
- **Association**: A user can have multiple roles.

### Role
Represents a collection of permissions.
- **Function**: Used to batch assign permissions to users.
- **Data Scope**: Defines the data access range for the role (e.g., only view data within their own department).

### Permission/Menu
Represents functional resources in the system.
- **Types**:
    - **Directory**: Grouping in the sidebar menu.
    - **Menu**: Specific page entry.
    - **Button**: Functional operations within a page (e.g., Add, Delete).
- **Identifier**: e.g., `sys:user:add`, used for backend API permission checks and frontend button display control.

### Department (Dept)
Represents the organizational hierarchy of the enterprise.
- **Structure**: Tree structure, supporting infinite levels.
- **Usage**: Used to build the organizational tree and as a basis for data permission judgment.

## Features

### 1. User Management
- CRUD operations for users.
- Password reset and status change.
- Role assignment.

### 2. Role Management
- Creation and maintenance of roles.
- Assign menu permissions: Check menus and buttons via a tree selector.
- Configure data permission scopes.

### 3. Menu Management
- Visual management of the system menu structure.
- Configure menu icons, route paths, and component paths.
- Define button permission identifiers.

## Frontend Implementation

Frontend code is located at `tagtag-ui/apps/tagtag/src/views/modules/iam`.

| Feature | Page Path | Description |
| :--- | :--- | :--- |
| User Mgmt | `/iam/user` | User list, Add/Edit modal |
| Role Mgmt | `/iam/role` | Role list, Permission assignment drawer |
| Menu Mgmt | `/iam/menu` | Menu tree table, Icon selector |
| Dept Mgmt | `/iam/dept` | Department tree maintenance |

### Permission Control

**Frontend Control**:
Use the `v-auth` directive or `AccessControl` component to control button visibility.
```vue
<template>
  <button v-auth="'sys:user:add'">Add User</button>
</template>
```

**Backend Control**:
Use annotations on Controller methods to intercept requests.
```java
@PreAuthorize("@ss.hasPermission('sys:user:add')")
public Result save(@RequestBody UserDTO user) { ... }
```

## API Reference

| Method | Endpoint | Description |
| :--- | :--- | :--- |
| POST | `/users` | Create new user |
| GET | `/users/{id}` | Get user details |
| POST | `/auth/login` | User login (returns JWT) |
| GET | `/menus/routes` | Get dynamic routes for current user |
