---
title: 系统模块
description: 系统配置与监控。
---

# 系统模块

**系统 (System)** 模块管理全局配置、字典数据、日志监控以及文件存储服务。

## 功能特性

### 1. 字典管理 (Dict)
动态管理系统范围内的常量和枚举值，减少前端硬编码。
- **结构**: 字典类型 (Type) -> 字典数据 (Data)。
- **示例**: `sys_user_sex` (用户性别) -> `1:男`, `2:女`。
- **缓存**: 支持 Redis 缓存，提升读取性能。

### 2. 操作日志 (Operation Logs)
记录关键的用户操作行为，用于审计和追踪。
- **实现**: 通过 `@OperationLog` 注解自动捕获。
- **内容**: 记录操作人、模块、方法、IP地址、操作时间、执行结果、耗时等。
- **查询**: 支持按时间、模块、用户进行检索。

### 3. 系统配置 (Config) (计划中)
管理系统运行时的动态参数。
- **示例**: 站点标题、文件上传大小限制、默认密码等。

### 4. 文件存储 (Storage)
提供统一的文件上传和管理能力。
- **支持模式**:
    - **本地存储**: 文件保存在服务器磁盘。
    - **对象存储 (OSS)**: 集成阿里云、腾讯云、MinIO 等（需引入对应插件）。
- **功能**: 文件上传、下载、预览、删除。

## 前端实现

前端相关代码位于 `tagtag-ui/apps/tagtag/src/views/modules`。

| 功能 | 页面路径 | 描述 |
| :--- | :--- | :--- |
| 字典管理 | `/system/dict` | 字典类型与数据的维护 |
| 操作日志 | `/system/log` | 日志查询与详情查看 |
| 文件管理 | `/storage/file` | 文件上传与列表管理 |

## 注解使用

### @OperationLog

在 Controller 方法上添加该注解以启用日志记录。

```java
@OperationLog(module = "用户模块", name = "新增用户", type = OperationType.ADD)
@PostMapping
public Result save(@RequestBody UserDTO user) { ... }
```

## API 参考

| 方法 | 端点 | 描述 |
| :--- | :--- | :--- |
| GET | `/dict/types` | 获取字典类型列表 |
| GET | `/dict/data/{type}` | 根据类型获取字典数据 |
| GET | `/logs` | 分页查询操作日志 |
| POST | `/storage/upload` | 上传文件 |
