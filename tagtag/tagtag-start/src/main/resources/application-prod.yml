spring:
  datasource:
    dynamic:
      primary: master
      datasource:
        master:
          driver-class-name: com.mysql.cj.jdbc.Driver
          url: ${DB_URL}
          username: ${DB_USERNAME}
          password: ${DB_PASSWORD}
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
      database: ${REDIS_DB:0}
  cache:
    type: redis

server:
  port: ${SERVER_PORT:8080}

logging:
  level:
    root: info

jwt:
  secret: ${JWT_SECRET}

security:
  jwt:
    access-ttl-seconds: ${SECURITY_JWT_ACCESS_TTL_SECONDS:3600}
    refresh-ttl-seconds: ${SECURITY_JWT_REFRESH_TTL_SECONDS:604800}
  permit-paths: /actuator/health,/actuator/info,/api/storage/files/view/**

cache:
  default-ttl: ${CACHE_DEFAULT_TTL:5m}
  ttl:
    roleMenuCodes: ${CACHE_TTL_ROLE_MENU_CODES:10m}
    roleMenus: ${CACHE_TTL_ROLE_MENUS:10m}
    deptTree: ${CACHE_TTL_DEPT_TREE:30m}

management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when_authorized
